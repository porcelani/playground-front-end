<html ng-app="newInovaVitrine">
<head>
    <meta charset="UTF-8">
    <title>New Inova Vitrine</title>
    <link rel="stylesheet" type="text/css" href="lib/bootstrap/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="css/app.css">
    <script src="lib/angular/angular.js"></script>
    <script src="lib/angular/angular-messages.js"></script>
    <script src="js/app.js"></script>
    <script src="js/controllers/newInovaVitrineCtrl.js"></script>
    <script src="js/service/faceDetectionAPIService.js"></script>

</head>

<body ng-controller="newInovaVitrineCtrl">
<div class="jumbotron">

    <h1>Carros</h1>
    <ul id="lista">
    </ul>

    <div id="formNovoCarro">
        <fieldset>
            <legend>Novo Carro</legend>

                <div class="form-group">
                    <label for="ano">Ano:</label>
                    <input id="ano" type="text" value=""><br>
                </div>
                <div class="form-group">
                    <label for="cor">Cor:</label>
                    <input id="cor" type="text" value=""><br>
                </div>
                <div class="form-group">
                    <label for="fabricante">Fabricante:</label>
                    <input id="fabricante" type="text" value=""><br>
                </div>
                <div class="form-group">
                    <label for="modelo">Modelo:</label>
                    <input id="modelo" type="text" value=""><br>
                </div>
                <div class="form-group">
                    <label for="placa">Placa:</label>
                    <input id="placa" type="text" value=""><br>
                </div>
                <button id="btnAdicionar" class="btn-primary" type="submit">Adicionar</button>
        </fieldset>
    </div>


    <script>
        function Carro(ano, cor, fab, mod, pla) {
            this.ano = ano;
            this.cor = cor;
            this.fabricante = fab;
            this.modelo = mod;
            this.placa = pla;

            this.toString= function (){
                return this.ano+" "+this.cor+" "+this.fabricante+" "+this.modelo+" "+this.placa;
            }
        }


        var carros = [];

        function adicionandoCarroALista(carro) {
            var li= document.createElement("li");
            li.textContent=carro.toString();

            var lista= document.getElementById("lista");
            lista.appendChild(li);
        }

        function novoCarro(event) {
            var newCarro = new Carro(
                    document.getElementById("ano").value,
                    document.getElementById("cor").value,
                    document.getElementById("fabricante").value,
                    document.getElementById("modelo").value,
                    document.getElementById("placa").value
            )
            carros.push(newCarro);
            console.info(carros);
            adicionandoCarroALista(newCarro);
        }


        function removeCaracteresEspeciais(event) {
            var placa = document.getElementById("placa");
            placa.value=placa.value.replace(/[^(a-z0-9)]/gmi,"");
            console.log("Remove")

        }

        //EVENTS
        var btnAdicionar = document.getElementById("btnAdicionar");
        btnAdicionar.addEventListener("click", novoCarro, false);

        var placa = document.getElementById("placa");
        placa.addEventListener("keyup", removeCaracteresEspeciais,false);

    </script>
</div>


<div ng-include="'view/footer.html'"></div>

</body>
</html>

